@using LitvaKebabs.Models
@inject NavigationManager navigationManager

<EditForm FormName="login-form" Model="@Model" OnValidSubmit="@Submit">
    <DataAnnotationsValidator/>
    <ValidationSummary/>
    <label for="username">Email address:</label>
    <InputText id="username" @bind-Value="Model!.CustomerEmail" />
    <label for="pwd">Password:</label>
    <InputText id="pwd" type="password" @bind-Value="Model!.CustomerPassword" />
    <input type="submit" class="btn btn-primary" value="Submit" />
</EditForm>

@code {
    [Parameter]
    public string LoginUser { get; set; }

    public Customer? Model { get; set; }

    protected override void OnInitialized() => Model ??= new();

    private void Submit()
    {
        if (LoginUser == "customer")
        {
            navigationManager.NavigateTo("/menu");
        }
        else if (LoginUser == "staff")
        {
            navigationManager.NavigateTo("/staff-portal");
        }
    }

}